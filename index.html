<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1e1e1e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Alfred</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="splash-screen">
        <div class="splash-content">
            <img src="icon-192.png" alt="Alfred Logo" class="splash-logo">
            <h1 class="splash-text">Alfred: The Buttler</h1>
        </div>
    </div>

    <header class="app-header">
        <div class="brand-container">
            <div class="brand-name">Alfred: The Buttler</div>
            <div id="page-title" class="view-subtitle">Store</div>
        </div>
        <div id="status-indicator" class="offline-indicator"></div>
    </header>

    <!-- MAIN VIEWS CONTAINER -->
    <main id="main-container">
        
        <!-- VIEW 1: STORE (Inventory) -->
        <section id="view-inventory" class="view active-view">
            <div id="inventory-list" class="list-container"></div>
        </section>

        <!-- VIEW 2: PROCURE (Shopping) -->
        <section id="view-shopping" class="view">
            <div id="shopping-list" class="list-container"></div>
        </section>

        <!-- VIEW 3: PREPARE (Cooking) -->
        <section id="view-cooking" class="view">
            <div id="cooking-list" class="list-container"></div>
        </section>

        <!-- VIEW 4: LEDGER (Expenses) -->
        <section id="view-expenses" class="view">
            <!-- Pie Chart & List injected here by JS -->
            <div id="expenses-list" class="list-container"></div>
        </section>

    </main>

    <!-- GLOBAL FLOATING ACTION BUTTON -->
    <button class="fab-add">+</button>

    <!-- NAVIGATION BAR -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-target="view-inventory">
            <span class="icon">üì¶</span>
            <span class="label">Store</span>
        </button>
        <button class="nav-item" data-target="view-shopping">
            <span class="icon">üõí</span>
            <span class="label">Procure</span>
        </button>
        <button class="nav-item" data-target="view-cooking">
            <span class="icon">üç≥</span>
            <span class="label">Prepare</span>
        </button>
        <button class="nav-item" data-target="view-expenses">
            <span class="icon">üí∂</span>
            <span class="label">Ledger</span>
        </button>
    </nav>

    <!-- GENERIC MODAL OVERLAY -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <h2 id="modal-title">Edit</h2>
            <div id="modal-body"></div>
            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeModal()">Cancel</button>
                <button class="btn-save" id="modal-save-btn">Save</button>
            </div>
        </div>
    </div>

    <script src="db.js"></script>
    <script src="app.js"></script>
</body>
</html>